<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
   <head>
      <title>FAQ: dinamiche di user interface</title>
      <link type="text/css" href="../../mddtools.css" rel="stylesheet"/>
   </head>

   <body>
      <h2>
         FAQ: dinamiche di user interface
      </h2>
      <p>
         In questa sezione sono riportate le domande pi&ugrave; frequenti emerse durante l'
         utilizzo di <b>guigen</b> relative alle tecniche di modellazione delle dinamiche
         della <i>user interface</i>.
      </p>
      
      <!-- 1 -->
     <div class="faq_question">
     <p>Q: devo progettare la componente dinamica dell'interfaccia utente di un progetto
     realizzato con guigen: dove posso trovare una descrizione degli eventi di <i>user interaction</i>
     modellabili sui vari widget/elementi?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> L'elenco dei possibili eventi associabili ai vari widget &egrave; riportato
     nel catalogo dei <a href="../uipatterns/uipatterns.html">pattern u.i</a> (nelle sezioni
     relative ai vari <b>Widget</b>.
     </p>
	 <p>Per semplicit&agrave; riportiamo di seguito i principali eventi associabili ai 
	 vari widget:
	 <ul>
	 <li><b>Button, ConfirmButton, ResetButton</b>
	 	<ul>
	 	<li><i>CLICKED</i>: rappresenta l'evento di pressione del pulsante</li>
	 	</ul>
	 </li>
	 <li><b>Table</b>
	 	<ul>
	 	<li><i>CLICKED</i>: rappresenta l'evento di click su una cella della tabella.
	 	L'evento viene reso attivo solo sulle celle facenti parte di colonne per cui
	 	sia impostato l'attributo <i>eventActive</i> a <i>true</i>.</li>
	 	</ul>
	 </li>
	 <li><b>TreeView</b>
	 	<ul>
	 	<li><i>CLICKED</i>: rappresenta l'evento di click su un nodo foglia della 
	 	struttura ad albero.</li>
	 	</ul>
	 </li>
	 <li><b>Menu</b>
	 	<ul>
	 	<li><i>CLICKED</i>: rappresenta l'evento di click sulla voce di menu</li>
	 	</ul>
	 </li>
	 <li><b>ComboBox</b>
	 	<ul>
	 	<li><i>VALUE_CHANGED</i>: rappresenta l'evento di selezione di un elemento della lista.
	 	</li>
	 	</ul>
	 </li>
	 <li><b>RadioButtons</b>
	 	<ul>
	 	<li><i>VALUE_CHANGED</i>: rappresenta l'evento di selezione di una delle opzioni previste.
	 	</li>
	 	</ul>
	 </li>
	 <li><b>TextField</b>
	 	<ul>
	 	<li><i>KEY_PRESSED</i>: disponibile solo in modalit&agrave; 'ricca' - rappresenta 
	 	l'evento di immissione di un carattere nel campo di testo, utilizzato per scatenare la
		funzionalit&agrave; di <i>suggestion</i>.
	 	</li>
	 	</ul>
	 </li>
	 <li><b>TabSwitcher</b>
	 	<ul>
	 	<li><i>TAB_SELECTED</i>: il widget fittizio <b>TabSwitcher</b> permette di associare 
	 	logica applicativa/comandi all'evendo di cambio tab in un <b>TabSetPanel</b> e di 
	 	salto ad uno step specifico in un <b>WizardPanel</b> (se utilizzato in modalit&agrave; 
	 	navigatore-attivo)
	 	</li>
	 	</ul>
	 </li>
	 </ul>
	 </p>      
     </div>
     <br/>
     
     <!-- 2 -->
     <div class="faq_question">
     <p>Q: E' possibile far scatenare una azione a fronte della selezione di una riga 
     di una <b>Table</b> (ovvero alla selezione del <i>check/radio</i> posto sulla
     sinistra della tabella)?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> No, attualmente questo non &egrave; un evento previsto. La modalit&agrave;
     consigliata per realizzare azioni su una (o pi&ugrave;) righe di una <b>Table</b>
     &egrave; tramite predisposizione di una <i>pulsantiera</i> al di sotto della tabella
     che preveda tutte le funzioni disponibili per quella tabella (metafora <i>select &amp; do)</i>.
	 </p>      
     </div>
     <br/>     
     
     <!-- 3 -->
     <div class="faq_question">
     <p>Q: E' possibile far scatenare una azione a fronte della selezione/deselezione di un 
     <b>CheckBox</b>? </p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> No, attualmente questo non &egrave; un evento previsto. Utilizzare
     un widget <b>RadioButtons</b> con evento di tipo <i>VALUE_CHANGED</i>.
	 </p>      
     </div>
     <br/>
     
     <!-- 4 -->
     <div class="faq_question">
     <p>Q: Sto utilizzando su una <b>Table</b> la metafora di <i>select &amp; do</i> come
     consigliato. I casi d'uso della mia applicazione prevedono una forte differenziazione
     delle azioni possibili a seconda della riga effettivamente selezionata. Esiste un modo
     per abilitare/disabilitare i pulsanti sottostanti a seconda della riga di tabella
     effettivamente selezionata?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> No, attualmente questa possibilit&agrave; non &egrave; prevista, poich&egrave;
     non &egrave; possibile modellare un evento di <i>VALUE_CHANGED</i> sulla <b>Table</b>.
     E' pertanto necessario gestire nella logica di business l'effettiva possibilit&agrave; di
     eseguire l'azione specificata sul record selezionato, e di fornire l'adeguato <i>feedback</i>
     all'utente.
	 </p>      
     </div>
     <br/>
     
     <!-- 3 -->
     <div class="faq_question">
     <p>Q: Ho visto che per abilitare/disabilitare (mostrare/nascondere) dei <b>Widget</b>
     esistono due possibilit&agrave;: <b>ONOFFCommand</b> (<b>VisibilityCommand</b>) vs 
     <b>ScreenStateCommand</b>. Quali sono le differenze e quali sono le casistiche di utilizzo
     delle due modalit&agrave;?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> La differenza fondamentale tra le due modalit&agrave; sta nel fatto che i comandi
     <b>ONOFFCommand</b> e <b>VisibilityCommnad</b> agiscono puntualmente su un insieme (anche ridotto)
     di widget, mentre lo <b>ScreenStateCommand</b> permette di effettuare lo switch di <b>ScreenState</b>
     che rappresenta un set completo di abilitazioni/disabilitazioni dei widget contenuti nella
     schermata. 
	 </p>
	 <p>Da questa differenza sostanziale derivano le differenti casistiche di utilizzo:
	 	<ul>
	 	<li>Il meccanismo degli <b>ScreenState</b> &egrave; adatto a situazioni in cui il 
	 	grado di indipendenza dei vari widget (dal p.v. dell'abilitazione) &egrave; basso,
	 	ed &egrave; pertanto agevole individuare un ristretto insieme di stati possibili
	 	della schermata (es. FILTRI_RICERCA | RISULTATI_RICERCA, oppure 
	 	VISUALIZZAZIONE | MODIFICA)</li>
	 	<li>Il meccanismo dei comandi puntuali &egrave; adatto alle situazioni in cui il
	 	grado di indipendenza dei vari widget (dal p.v. dell'abilitazione) &egrave; elevato,
	 	e non &egrave; pertanto agevole individuare un insieme sufficientemente ristretto
	 	di stati possibili (troppe permutazioni possibili)</li>
	 	</ul> 
	 </p>
     </div>
     <br/>
     
     <!-- 4 -->
     <div class="faq_question">
     <p>Q: Qual'&egrave; il livello di persistenza dello stato di visibilit&agrave;/abilitazione
     dei widget? E' possibile resettare lo stato di default?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> Lo stato di visibilit&agrave; <i>comandato</i> (ovvero impostato tramite comandi
     ONOFF, Visibility, ScreenState) &egrave; mantenuto in sessione. 
	 </p>  
	 <p>Allo stato attuale &egrave; possibile resettare lo stato di default solo agendo a 
	 basso livello ovvero modificando le strutture dati mantenute in sessione. In alternativa
	 &egrave; possibile non utilizzare i meccanismi di default e gestire esplicitamente tutte
	 le impostazioni.</p>    
     </div>
     <br/>
     
     <!-- 6 -->
     <div class="faq_question">
     <p>Q: E' possibile impostare programmaticamente il <i>tab</i> (<b>TabSetPanel</b>) o lo
     <i>step</i> (<b>WizardPanel</b>) correntemente attivo?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> Poich&egrave; <b>TabSetPanel</b> e <b>WizardPanel</b> sono sottoclassi
     del <b>MultiPanel</b> &egrave; possibile impostare l'item corrente di un <b>TabSetPanel</b> o di un
     <b>WizardPanel</b> nello stesso modo in cui &egrave; possibile fare con un
     <b>MultiPanel</b>.
	 </p>      
	 <p>Esiste il comando <b>ActivateMultiPanelItem</b> che, applicato ad un <b>MultiPanel</b>
	 (o ad una delle due sottoclassi a tab o wizard) permette di rendere attivo uno specifico 
	 item tra quelli disponibili.</p>
	 <p>Il comando <b>ActivateMultiPanelItem</b> pu&ograve; essere modellato solo all'interno
	 dello stesso <b>ContentPanel</b> che contiene il multipanel/tabset/wizard. Non &egrave; 
	 perci&ograve; possibile ad esempio comandare l'attivazione di un item alla pressione di un 
	 pulsante contenuto in un altra schermata o alla pressione di una voce di menu.
	 Diventa per questo motivo spesso necessario inserire la logica di gestione dell'attivazione
	 dei vari item nel metodo <i>onRefresh</i> della schermata.</p>
	 <p>Una tipica implementazione prevede le seguenti operazioni:
	 	<ol>
	 	<li>modellare un <b>ApplicationData</b> destinato a contenere in maniera persistente
	 	l'indicazione relativa all'item correntemente selezionato (la codifica dell'
	 	informazione pu&ograve; essere di vario genere, numero, nome simbolico: dipende
	 	dalla logica che la utilizzer&agrave;) ed associarlo al <b>ContentPanel</b> che
	 	contiene il tabset/wizard/multi</li>
	 	<li>modellare nell <i>onRefresh</i> dello stesso <b>ContentPanel</b> un
	 	<b>ExecCommand</b> che avr&agrave; il compito di decidere (in base al valore
	 	dell'<b>ApplicationData</b>) quale sia l'item da visualizzare. Dovr&agrave;
	 	avere tanti <b>CommandOutcome</b> quanti sono i possibili item da abilitare:
	 	come comando associato a ciascun <i>outcome</i> occorre modellare un
	 	<b>ActivateMultiPanelItem</b> associato all'item i-esimo.</li>
	 	</ol>
	 </p> 
     </div>
     <br/>
     
     <!-- 7 -->
     <div class="faq_question">
     <p>Q: Come posso nascondere un intero pannello a seconda della logica applicativa?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> Per nascondere/mostrare un intero pannello a comando &egrave; necessario:
     	<ol>
     	<li>inserire il pannello effettivo all'interno di un <b>MultiPanelItem</b></li>
     	<li>utilizzare il comando <b>ActivateMultiPanelItem</b> con 
     	<i>activeItem</i> = <i>null</i> per nascondere il pannello</li>
     	<li>utilizzare il comando <b>ActivateMultiPanelItem</b> con 
     	<i>activeItem</i> = pannello da visualizzare per mostrare il pannello</li>
     	</ol>
	 </p>      
     </div>
     <br/>
     
     <!-- 8 -->
     <div class="faq_question">
     <p>Q: E' possibile evitare il caricamento di tutta la schermata a fronte di un evento di
     interazione utente, ed effettuare invece un <i>refresh</i> selettivo?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> Si, &egrave; possibile, ma solo con la cartuccia <i>neutral</i> e abilitando 
     le funzionalit&agrave; <i>ricche</i>. 
	 </p>      
	 <p>Per ottenere il refresh parziale della schermata corrente a fronte di un evento di
	 interazione utente &egrave; necessario modellare al termine della catena di comandi
	 associati all'handler di quell'evento un comando di <b>RefreshViewCommand</b>, nel quale
	 &egrave; possibile specificare l'elenco dei pannelli e dei widget di cui si desidera effettuare
	 il <i>refresh</i> al termine dell'esecuzione della logica associata all'evento.</p>
     </div>
     <br/>
     
     <!-- 9 -->
     <div class="faq_question">
     <p>Q: I requisiti utente prevedono la necessit&agrave; di implementare la funzionalit&agrave;
     di <i>suggestion</i> su un campo di testo. Ho letto nel catalogo dei pattern u.i che questa
     &egrave; una funzionalit&agrave; disponibile, ma non ho capito come sia possibile
     attivarla.</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> La funzionalit&agrave; di <i>suggestion</i> si attiva modellando sul <b>TextField</b>
     un <b>EventHandler</b> relativo all'evento <i>KEY_PRESSED</i> e implementando la logica di 
     esecuzione di creazione delle voci suggerite, a fronte dell'immissione parziale nel campo di testo. 
     </p>
     <p>Pi&ugrave; in dettaglio &egrave; necessario eseguire le seguenti operazioni:
     	<ol>
     	<li>modellare un application data a scope SESSION di tipo array di stringhe destinato 
     	a contenere l'elenco di suggerimenti calcolato di volta in volta</li>
     	<li>modellare un <b>ApplicationDataBinding</b> (<i>collection-binding</i>) sul
     	<b>TextField</b> sul quale 
     	si vuole attivare la funzione di suggerimento</li>
     	<li>modellare un <b>EventHandler</b>(<i>KEY_PRESSED</i>) sul <b>TextField</b> sul quale 
     	si vuole attivare la funzione di suggerimento</li>
     	<li>associare al gestore di evento un unico comando di tipo <b>ExecCommand</b>:
     	ad esso sar&agrave; associato il metodo java di business logic che implementer&agrave;
     	la costruzione della lista di suggerimenti. L' <b>ExecCommand</b> dovr&agrave; avere
     	una unica uscita possibile (es. "OK") con associato un <b>NOPCommand</b></li>
     	<li>nel metodo java associato all'<b>ExecCommand</b> implementare la logica di costruzione
     	dell'elenco di suggerimenti. La <i>query</i> immessa dall'utente sar&agrave; contenuta
     	nell <b>ApplicationData</b> associato al campo di testo (<i>value-binding</i>) mentre il 
     	risultato (elenco di suggerimenti da restituire al client) deve essere inserito
     	nell'<b>ApplicationData</b> modellato al punto 2</li>
     	</ol>
     </p>
     </div>
     <br/>
     
     <!-- 10 -->
     <div class="faq_question">
     <p>Q: e'possibile impedire il cambio del tab corrente a fronte, ad esempio, di un 
     errore di validazione o di una particolare condizione di logica applicativa?</p>
     </div>
     <div class="faq_answer">
     <p><b>A:</b> Si, &egrave; possibile. Occorre modellare un <b>TabSwitcher</b>, con 
     <b>EventHandler</b> (<i>TAB_SELECTED</i>), con un <b>ExecCommand</b> che avr&agrave;
     il compito di eseguire le verifiche del caso.
     </p>
     <p>Le condizioni per cui non verr&agrave; effettuato il cambio di tab sono:
     	<ul>
     	<li>errore di conversione/validazione in uno dei campi</li>
     	<li>errore inserito da logica di business (nel metodo associato all'
     	<b>ExecCommand</b> di cui sopra)</li>
     	</ul>
     </p>
     </div>
     <br/>
     
   </body>
</html>
